(self.webpackChunkimrobbin=self.webpackChunkimrobbin||[]).push([[166],{2166:(r,i,t)=>{"use strict";t.r(i),t.d(i,{AuthPageModule:()=>y});var e=t(1116),o=t(766),n=t(7154),s=t(1041),a=t(3070),l=t(2312),u=t(9550),d=t(4369),m=t(6304),g=t(5366),c=t(4623),p=t(8520),f=t(5965),Z=t(1293),h=t(7307);function w(r,i){1&r&&(g.TgZ(0,"mat-error"),g._uU(1," Please provide an email address. "),g.qZA())}function b(r,i){1&r&&(g.TgZ(0,"mat-error"),g._uU(1," Please provide a valid email address. "),g.qZA())}function v(r,i){1&r&&(g.TgZ(0,"mat-error"),g._uU(1," Please provide a password. "),g.qZA())}function q(r,i){1&r&&(g.TgZ(0,"div",15),g._UZ(1,"mat-progress-bar",16),g.qZA())}const A=function(){return{width:"100%"}};let T=(()=>{class r{constructor(r,i,t,e){this.formBuilder=r,this.authService=i,this.router=t,this.toastService=e,this.isSubmitting=!1,this.showPassword=!0,this.formLogin=this.formBuilder.group({email:["",[s.kI.required,s.kI.email]],password:["",[s.kI.required]]})}ngOnInit(){}submitLogin(){var r=this;return(0,m.Z)(function*(){if(!r.formLogin.invalid){r.isSubmitting=!0,r.formLogin.disable();try{yield r.authService.signWithEmailAndpassword(r.formLogin.value),r.formLogin.reset(),yield r.router.navigate(["messages"])}catch(i){r.toastService.showToastMessage("auth/user-not-found"===i.code?"User not found":"auth/wrong-password"===i.code?"Invalid credentials":i.message),r.formLogin.enable()}finally{r.isSubmitting=!1}}})()}errorHandling(r,i){return this.formLogin.controls[r].hasError(i)}}return r.\u0275fac=function(i){return new(i||r)(g.Y36(s.qu),g.Y36(c.e),g.Y36(o.F0),g.Y36(p.k))},r.\u0275cmp=g.Xpm({type:r,selectors:[["app-auth"]],decls:29,vars:10,consts:[[1,"title-section"],[1,"mat-display-4","uppercase","title-bg"],[1,"mat-display-3","uppercase","no-margin"],[1,"selected"],["fxLayout","row","fxLayoutAlign","center center"],[1,"full-width"],["novalidate","",2,"margin","0 auto","width","50%",3,"formGroup","ngStyle.lt-sm"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email"],[4,"ngIf"],["matInput","","formControlName","password",3,"type"],["matSuffix","",3,"click"],[1,"progressBarContainer"],["class","progressBar",4,"ngIf"],["mat-stroked-button","","color","primary","type","button",1,"lg-btn","full-width",3,"disabled","click"],[1,"progressBar"],["mode","indeterminate"]],template:function(r,i){1&r&&(g.TgZ(0,"main"),g.TgZ(1,"section",0),g.TgZ(2,"span",1),g._uU(3,"Auth"),g.qZA(),g.TgZ(4,"span",2),g._uU(5," Log "),g.TgZ(6,"span",3),g._uU(7,"In"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(8,"section"),g.TgZ(9,"div",4),g.TgZ(10,"div",5),g.TgZ(11,"form",6),g.TgZ(12,"mat-form-field",7),g.TgZ(13,"mat-label"),g._uU(14,"Email"),g.qZA(),g._UZ(15,"input",8),g.YNc(16,w,2,0,"mat-error",9),g.YNc(17,b,2,0,"mat-error",9),g.qZA(),g.TgZ(18,"mat-form-field",7),g.TgZ(19,"mat-label"),g._uU(20,"Password"),g.qZA(),g._UZ(21,"input",10),g.TgZ(22,"mat-icon",11),g.NdJ("click",function(){return i.showPassword=!i.showPassword}),g._uU(23),g.qZA(),g.YNc(24,v,2,0,"mat-error",9),g.qZA(),g.TgZ(25,"div",12),g.YNc(26,q,2,0,"div",13),g.qZA(),g.TgZ(27,"button",14),g.NdJ("click",function(){return i.submitLogin()}),g._uU(28," Login "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&r&&(g.xp6(11),g.Q6J("formGroup",i.formLogin)("ngStyle.lt-sm",g.DdM(9,A)),g.xp6(5),g.Q6J("ngIf",i.errorHandling("email","required")),g.xp6(1),g.Q6J("ngIf",i.errorHandling("email","email")),g.xp6(4),g.Q6J("type",i.showPassword?"password":"text"),g.xp6(2),g.hij(" ",i.showPassword?"visibility_off":"visibility"," "),g.xp6(1),g.Q6J("ngIf",i.errorHandling("password","required")),g.xp6(2),g.Q6J("ngIf",i.isSubmitting),g.xp6(1),g.Q6J("disabled",i.formLogin.invalid||i.isSubmitting))},directives:[f.xw,f.Wh,s._Y,s.JL,s.sg,Z.Zl,a.KE,a.hX,u.Nt,s.Fj,s.JJ,s.u,e.O5,h.Hw,a.R9,d.lW,a.TO,l.pW],styles:[""]}),r})(),y=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=g.oAB({type:r}),r.\u0275inj=g.cJS({imports:[[e.ez,o.Bz.forChild([{path:"",component:T}]),s.UX,n.o9,a.lN,l.Cv,u.c,d.ot,h.Ps]]}),r})()}}]);