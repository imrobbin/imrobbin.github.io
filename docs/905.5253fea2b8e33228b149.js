(self.webpackChunkimrobbin=self.webpackChunkimrobbin||[]).push([[905],{2166:(r,e,t)=>{"use strict";t.r(e),t.d(e,{AuthPageModule:()=>w});var i=t(1116),n=t(766),o=t(7154),a=t(1041),s=t(3070),l=t(2312),u=t(9550),m=t(4369),d=t(6304),g=t(5366),c=t(4623),p=t(8520),f=t(5965),Z=t(1293);function h(r,e){1&r&&(g.TgZ(0,"mat-error"),g._uU(1," Please provide an email address. "),g.qZA())}function b(r,e){1&r&&(g.TgZ(0,"mat-error"),g._uU(1," Please provide a valid email address. "),g.qZA())}function q(r,e){1&r&&(g.TgZ(0,"mat-error"),g._uU(1," Please provide a password. "),g.qZA())}function v(r,e){1&r&&(g.TgZ(0,"div",14),g._UZ(1,"mat-progress-bar",15),g.qZA())}const A=function(){return{width:"100%"}};let T=(()=>{class r{constructor(r,e,t,i){this.formBuilder=r,this.authService=e,this.router=t,this.toastService=i,this.isSubmitting=!1,this.formLogin=this.formBuilder.group({email:["",[a.kI.required,a.kI.email]],password:["",[a.kI.required]]})}ngOnInit(){}submitLogin(){var r=this;return(0,d.Z)(function*(){if(!r.formLogin.invalid){r.isSubmitting=!0,r.formLogin.disable();try{yield r.authService.signWithEmailAndpassword(r.formLogin.value),r.formLogin.reset(),yield r.router.navigate(["messages"])}catch(e){r.toastService.showToastMessage("auth/user-not-found"===e.code?"User not found":"auth/wrong-password"===e.code?"Invalid credentials":e.message),r.formLogin.enable()}finally{r.isSubmitting=!1}}})()}errorHandling(r,e){return this.formLogin.controls[r].hasError(e)}}return r.\u0275fac=function(e){return new(e||r)(g.Y36(a.qu),g.Y36(c.e),g.Y36(n.F0),g.Y36(p.k))},r.\u0275cmp=g.Xpm({type:r,selectors:[["app-auth"]],decls:27,vars:8,consts:[[1,"title-section"],[1,"mat-display-4","uppercase","title-bg"],[1,"mat-display-3","uppercase","no-margin"],[1,"selected"],["fxLayout","row","fxLayoutAlign","center center"],[1,"full-width"],["novalidate","",2,"margin","0 auto","width","50%",3,"formGroup","ngStyle.lt-sm"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email"],[4,"ngIf"],["matInput","","formControlName","password","type","text"],[1,"progressBarContainer"],["class","progressBar",4,"ngIf"],["mat-stroked-button","","color","primary","type","button",1,"lg-btn","full-width",3,"disabled","click"],[1,"progressBar"],["mode","indeterminate"]],template:function(r,e){1&r&&(g.TgZ(0,"main"),g.TgZ(1,"section",0),g.TgZ(2,"span",1),g._uU(3,"Auth"),g.qZA(),g.TgZ(4,"span",2),g._uU(5," Log "),g.TgZ(6,"span",3),g._uU(7,"In"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(8,"section"),g.TgZ(9,"div",4),g.TgZ(10,"div",5),g.TgZ(11,"form",6),g.TgZ(12,"mat-form-field",7),g.TgZ(13,"mat-label"),g._uU(14,"Email"),g.qZA(),g._UZ(15,"input",8),g.YNc(16,h,2,0,"mat-error",9),g.YNc(17,b,2,0,"mat-error",9),g.qZA(),g.TgZ(18,"mat-form-field",7),g.TgZ(19,"mat-label"),g._uU(20,"Password"),g.qZA(),g._UZ(21,"input",10),g.YNc(22,q,2,0,"mat-error",9),g.qZA(),g.TgZ(23,"div",11),g.YNc(24,v,2,0,"div",12),g.qZA(),g.TgZ(25,"button",13),g.NdJ("click",function(){return e.submitLogin()}),g._uU(26," Login "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&r&&(g.xp6(11),g.Q6J("formGroup",e.formLogin)("ngStyle.lt-sm",g.DdM(7,A)),g.xp6(5),g.Q6J("ngIf",e.errorHandling("email","required")),g.xp6(1),g.Q6J("ngIf",e.errorHandling("email","email")),g.xp6(5),g.Q6J("ngIf",e.errorHandling("password","required")),g.xp6(2),g.Q6J("ngIf",e.isSubmitting),g.xp6(1),g.Q6J("disabled",e.formLogin.invalid||e.isSubmitting))},directives:[f.xw,f.Wh,a._Y,a.JL,a.sg,Z.Zl,s.KE,s.hX,u.Nt,a.Fj,a.JJ,a.u,i.O5,m.lW,s.TO,l.pW],styles:[""]}),r})(),w=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=g.oAB({type:r}),r.\u0275inj=g.cJS({imports:[[i.ez,n.Bz.forChild([{path:"",component:T}]),a.UX,o.o9,s.lN,l.Cv,u.c,m.ot]]}),r})()}}]);